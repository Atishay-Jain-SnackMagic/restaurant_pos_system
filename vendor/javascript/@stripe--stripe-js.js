// @stripe/stripe-js@7.1.0 downloaded from https://ga.jspm.io/npm:@stripe/stripe-js@7.1.0/lib/index.mjs

var r="basil";var e=function runtimeVersionToUrlVersion(r){return r===3?"v3":r};var t="https://js.stripe.com";var n="".concat(t,"/").concat(r,"/stripe.js");var i=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var o=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var a="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used";var s=function isStripeJSURL(r){return i.test(r)||o.test(r)};var c=function findScript(){var r=document.querySelectorAll('script[src^="'.concat(t,'"]'));for(var e=0;e<r.length;e++){var n=r[e];if(s(n.src))return n}return null};var u=function injectScript(r){var e=r&&!r.advancedFraudSignals?"?advancedFraudSignals=false":"";var t=document.createElement("script");t.src="".concat(n).concat(e);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");i.appendChild(t);return t};var l=function registerWrapper(r,e){r&&r._registerWrapper&&r._registerWrapper({name:"stripe-js",version:"7.1.0",startTime:e})};var d=null;var v=null;var p=null;var f=function onError(r){return function(e){r(new Error("Failed to load Stripe.js",{cause:e}))}};var m=function onLoad(r,e){return function(){window.Stripe?r(window.Stripe):e(new Error("Stripe.js not available"))}};var w=function loadScript(r){if(d!==null)return d;d=new Promise((function(e,t){if(typeof window!=="undefined"&&typeof document!=="undefined"){window.Stripe&&r&&console.warn(a);if(window.Stripe)e(window.Stripe);else try{var n=c();if(n&&r)console.warn(a);else if(n){if(n&&p!==null&&v!==null){var i;n.removeEventListener("load",p);n.removeEventListener("error",v);(i=n.parentNode)===null||i===void 0?void 0:i.removeChild(n);n=u(r)}}else n=u(r);p=m(e,t);v=f(t);n.addEventListener("load",p);n.addEventListener("error",v)}catch(r){t(r);return}}else e(null)}));return d.catch((function(r){d=null;return Promise.reject(r)}))};var S=function initStripe(t,n,i){if(t===null)return null;var o=n[0];var a=o.match(/^pk_test/);var s=e(t.version);var c=r;a&&s!==c&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.1.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=t.apply(void 0,n);l(u,i);return u};var h;var j=false;var g=function getStripePromise(){if(h)return h;h=w(null).catch((function(r){h=null;return Promise.reject(r)}));return h};Promise.resolve().then((function(){return g()})).catch((function(r){j||console.warn(r)}));var y=function loadStripe(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];j=true;var n=Date.now();return g().then((function(r){return S(r,e,n)}))};export{y as loadStripe};

